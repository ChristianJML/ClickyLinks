<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClickyLinks</title>
    <meta name="description" content="Burn boring CTAs. Write actions people want to take. An AI-powered tool that helps you craft clear, compelling calls-to-action that convert.">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
    <style>
        html, body {
            height: 100%; /* Ensure html and body take full viewport height */
            margin: 0; /* Reset default margins */
            padding: 0; /* Reset default padding */
        }
        body {
            font-family: Arial, sans-serif;
            background-color: #E1E4E1; /* Updated background color */
            display: flex;
            flex-direction: column; /* Changed to column to stack main content */
            min-height: 100vh; /* Ensure body takes at least full viewport height */
            color: #261201; /* Updated text color */
            overflow-y: auto; /* Allow vertical scrolling for body content */
        }
        .container {
            text-align: center;
            padding: 20px;
            display: flex; /* Enable flexbox for vertical layout */
            flex-direction: column; /* Stack children vertically */
            gap: 16px; /* Add 16px gap between children, specifically for response boxes */
            flex-grow: 1; /* Allow it to grow and fill available space */
        }
        /* Responsive Wrapper for larger screens */
        .responsive-wrapper {
            display: flex;
            flex-direction: column; /* Stack children vertically by default (mobile) */
            width: 100%;
            height: 100%; /* Ensure wrapper takes full height */
            flex-grow: 1; /* Allow it to grow and fill available space */
            min-height: 0; /* Crucial for flex item in column that contains other flex items */
        }
        .main-content-area {
            background-image: radial-gradient(circle at center, #261201 2px, transparent 3px); /* Original dots */
            background-size: 20px 20px; /* Adjust size of the repeating pattern */
            margin-top: 24px; /* Add space between container and main-content-area on mobile */
            position: relative; /* Needed for pseudo-element */
            overflow: hidden; /* Ensure pseudo-element doesn't overflow */
        }
        @keyframes dot-opacity-pulse {
            0% { opacity: 0; }
            50% { opacity: 1; }
            100% { opacity: 0; }
        }

        .main-content-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(circle at center, #BDB9B3 2px, transparent 3px);
            background-size: 20px 20px;
            opacity: 0; /* Hidden by default */
            visibility: hidden; /* Ensure it's not visible */
            transition: opacity 0.5s ease-in-out; /* Smooth fade out */
        }

        .main-content-area.thinking-animation::before {
            opacity: 1; /* Make visible when animating */
            visibility: visible; /* Make visible when animating */
            animation: dot-opacity-pulse 2s infinite ease-in-out alternate; /* Apply animation */
        }
        /* New CSS for controls-box */
        .controls-box {
            display: flex; /* Changed from none to flex to allow transition */
            flex-direction: column; /* Stack children vertically */
            gap: 16px; /* Consistent vertical spacing */
            padding: 0 20px; /* Padding for the container itself (0 top/bottom when closed) */
            box-sizing: border-box; /* Ensure consistent box model */
            border: 2px solid transparent; /* Set border to transparent when closed */
            border-radius: 8px;
            background-color: #E1E4E1; /* Match background with page */
            margin-top: 16px; /* Add margin to separate from buttons */
            transition: border-color 0.5s ease-out, padding 0.5s ease-out; /* Add padding to transition for smoother animation */
        }
        .controls-content {
            max-height: 0;
            padding: 0 2px; /* Updated horizontal padding */
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }
        .controls-content.open {
            max-height: 1000px; /* Arbitrary large number to allow content to show */
        }
        .controls-box.open {
            border-color: #261201; /* Apply border color when open */
            padding: 20px; /* Ensure top/bottom padding when open */
        }
        /* Mobile specific styles for response-box */
        @media (max-width: 767px) {
            .response-box {
                margin: 4%; /* 4% margin for mobile breakpoints */
            }
            .main-content-area {
                min-height: 800px; /* Minimum height for mobile breakpoint */
                margin-top: 0; /* Remove top margin on mobile */
            }
        }
        @media (min-width: 768px) {
            .responsive-wrapper {
                flex-direction: row; /* Arrange items horizontally */
                justify-content: flex-start; /* Align to start */
                align-items: stretch; /* Stretch items to fill height */
            }
            .container {
                width: 33%; /* 33% width on large screens */
                max-width: none; /* Remove max-width constraint */
                padding: 20px; /* Keep padding */
                gap: 16px; /* Ensure gap for items within container */
                display: flex; /* Ensure container is a flex container */
                flex-direction: column; /* Stack children vertically */
                overflow-y: auto; /* Allow scrolling within the container */
                flex-shrink: 0; /* Prevent shrinking below content */
            }
            .main-content-area {
                display: flex; /* Enable flexbox for centering */
                flex-direction: column; /* Stack response boxes vertically */
                justify-content: center; /* Center content vertically */
                align-items: center; /* Center content horizontally */
                width: 67%; /* 67% width on large screens */
                gap: 24px; /* Add gap between response boxes */
                height: 100%; /* Ensure it takes full available height */
                flex-grow: 1; /* Allow it to grow and fill available space */
                overflow-y: auto; /* Allow main-content-area to scroll if content overflows */
                margin-top: 0; /* Remove top margin for larger screens */
            }
            .response-box {
                margin: 0; /* Set margin to 0 for larger screens */
                max-width: 600px; /* Set max-width for response boxes */
                width: 80%; /* Set width for response boxes */
            }
            #addDetailsButton {
                display: block; /* Show the add details button on larger screens */
            }
            #detailModal {
                display: none; /* Hide the modal on larger screens */
            }
            header {
                text-align: left; /* Left align header text on larger screens */
            }
        }
        /* Breakpoint between 768px and 1280px */
        @media (min-width: 768px) and (max-width: 1280px) {
            .input-buttons-container {
                flex-direction: column; /* Stack items vertically */
                align-items: stretch; /* Stretch items to fill width */
            }
            .input-buttons-container input[type="text"] {
                margin-right: 0; /* Remove right margin for full width input */
                width: 100%; /* Ensure input is full width */
                box-sizing: border-box; /* Include padding and border in the width calculation */
            }
            .input-buttons-container button {
                width: 100%; /* Make buttons take full width */
            }
        }
        input[type="text"] {
            flex-grow: 1;
            padding: 10px;
            border: 2px solid #261201; /* Added border */
            border-radius: 5px;
            font-size: 1em;
            background-color: transparent; /* Transparent background */
            color: #261201;
            margin-right: 0;
        }
        input[type="text"]:focus {
            outline: none; /* Remove default outline */
            border-color: #36679b; /* Set border color on focus */
            border-width: 1px; /* Set border thickness on focus */
        }
        .input-buttons-container {
            display: flex;
            align-items: center; /* Vertically align items */
            margin-top: 24px; /* Space from header */
            justify-content: space-between; /* Distribute items evenly, pushing first to left, last to right */
            gap: 8px; /* Add 8px gap between elements */
            width: 100%; /* Take full width of the container */
        }
        button {
            padding: 10px 15px;
            border: 2px solid #36679b; /* Updated border */
            border-radius: 5px;
            background-color: #36679b; /* Updated button background color */
            color: #ffffff; /* Updated button text color */
            cursor: pointer;
            font-size: 1em;
        }
        button:hover {
            background-color: #2a537f; /* Slightly darker on hover */
        }
        #addDetailsButton {
            background-color: transparent;
            color: #261201;
            border: 2px solid #36679b; /* Updated border to 2px */
        }
        #addDetailsButton:hover {
            background-color: rgba(54, 103, 155, 0.1); /* Slight background on hover with new color */
        }
        .response-box {
            background-color: #E1E4E1; /* Updated background color */
            border: 2px solid #261201; /* Added border */
            padding: 20px;
            border-radius: 8px;
            text-align: left; /* Left align text within response boxes */
            opacity: 0;
            visibility: hidden;
            max-height: 0; /* Initially collapsed */
            overflow: hidden; /* Hide overflowing content */
            transition: opacity 0.25s ease-in-out, visibility 0.25s ease-in-out, max-height 0.5s ease-in-out; /* Add max-height to transition */
            position: relative; /* Ensure stacking context */
            z-index: 1; /* Bring response-box above main-content-area's pseudo-element */
        }
        .top-area {
            display: flex;
            align-items: baseline; /* Vertically align items to the middle */
            margin-bottom: 0; /* Removed bottom margin */
        }
        .loader {
            font-size: 16px; /* Match model-name font size */
            font-weight: 400; /* Match model-name font weight */
            opacity: 1; /* Visible initially */
            transition: opacity 0.5s ease-in-out; /* Fade out effect */
            margin-left: 10px; /* Add space between model name and loader */
        }
        .result {
            opacity: 0; /* Hidden initially */
            visibility: hidden; /* Hidden initially */
            transition: opacity 0.5s ease-in-out; /* Fade in effect */
        }
        .response-box h2 {
            margin-top: 0; /* Remove top margin from H2 inside response-box */
            margin-bottom: 0; /* Ensure no bottom margin on H2 */
        }
        .response-box p {
            margin-bottom: 0; /* Remove bottom margin from P inside response-box */
        }
        .new-cta {
            font-size: 1em; /* 16px */
            /* Removed opacity and transition, now handled by parent .result */
        }
        .new-cta-list li {
            font-size: 1em; /* 16px */
            /* Removed opacity and transition, now handled by parent .result */
        }
        .why-it-works {
            font-size: 0.875em; /* 14px */
            margin-top: 0; /* Changed to 0 initially */
            display: none; /* Hide by default to prevent excessive spacing */
            /* Removed opacity and transition, now handled by parent .result */
        }
        h1 {
            font-size: 3em;
            margin-bottom: 0; /* Removed margin-bottom */
            margin-top: 0; /* Removed top margin */
            font-family: "Outfit", sans-serif;
            font-weight: 700;
            letter-spacing: 0.03em; /* Added letter-spacing */
        }
        p {
            font-size: 1.2em;
            margin-bottom: 0; /* Remove bottom margin from general p elements */
        }
        .slogan {
            margin-top: 0; /* Ensure no top margin on the slogan */
        }
        /* Modal Styles */
        .modal {
            display: none; /* Hidden by default, JavaScript will set to flex when opened */
            align-items: center; /* Center content vertically */
            justify-content: center; /* Center content horizontally */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Re-added overflow: auto; to allow scrolling of the entire modal */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            padding-top: 0; /* Updated padding-top to 0 */
        }
        #extraDetailsSection {
            display: none; /* Hidden by default for mobile */
            flex-direction: column; /* Stack children vertically */
            gap: 16px; /* Consistent vertical spacing */
            padding: 20px; /* Add some padding for visual separation if needed */
        }
        #ctaEssayModal.modal {
            /* Specific styles for the CTA essay modal container - rely on default .modal centering */
        }
        .modal-content {
            background-color: #E1E4E1; /* Updated background color */
            border: 2px solid #261201; /* Added border */
            padding: 20px;
            border-radius: 8px;
            position: relative;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            max-width: 500px;
            max-height: 100%; /* Fill 100% of the available height within the padded parent */
            overflow-y: auto;
            margin: auto; /* Auto margin for horizontal centering within the padded modal */
            box-sizing: border-box; /* Include padding and border in the element's total width and height */
        }
        #ctaEssayModal .modal-content {
            max-width: 800px;
            max-height: 90%; /* Updated max-height for CTA essay modal to 90% */
            background-color: #E1E4E1; /* Updated background color */
            border: 2px solid #261201; /* Added border */
            margin: auto; /* Centered within the padded modal */
            box-sizing: border-box; /* Ensure consistent box model */
        }
        #detailModal .modal-content { /* Specific styles for Add Extra Detail modal content */
            margin: 0 24px 0 auto; /* Top:0, Right:24px, Bottom:0, Left:auto (pushes to right) */
            max-height: 100%; /* Fill 100% of the available height within the padded parent */
            box-sizing: border-box; /* Ensure consistent box model */
        }
        /* The detailModal should remain hidden by default and only used for other purposes if needed */
        /* New styles for the Add Extra Detail modal itself */
        #detailModal.modal {
            padding-top: 24px; /* Add top padding to the modal container */
            padding-bottom: 24px; /* Add bottom padding to the modal container */
            align-items: flex-start; /* Align content to the start (top) to respect margins */
            justify-content: flex-end; /* Push content to the right */
            margin: 0; /* Ensure no margin on the modal container itself */
            box-sizing: border-box; /* Ensure consistent box model */
        }
        .close-button {
            color: #261201; /* Updated close button color */
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-button:hover,
        .close-button:focus {
            color: white;
            text-decoration: none;
            cursor: pointer;
        }
        .control-group {
            margin-bottom: 16px; /* Consistent vertical spacing between control groups */
        }
        .control-group label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
            font-size: 1.1em;
        }
        .control-group h4 {
            margin-bottom: 10px;
        }
        h2 {
            font-family: "Outfit", sans-serif;
            font-weight: 700;
            letter-spacing: 0.03em; /* Added letter-spacing */
        }
        h3 {
            font-family: "Outfit", sans-serif;
            font-weight: 700;
            letter-spacing: 0.03em; /* Added letter-spacing */
        }
        input[type="range"] {
            width: 100%;
            margin-top: 5px;
            accent-color: #3b4b59; /* Updated slider color */
        }
        /* Styles for the custom switch */
        .switch-container {
            display: flex;
            align-items: center;
            gap: 10px; /* Add some space between the text and the switch */
            margin-bottom: 5px;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 20px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 20px; /* Rounded slider */
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #3b4b59;
        }
        input:focus + .slider {
            box-shadow: 0 0 1px #3b4b59;
        }
        input:checked + .slider:before {
            -webkit-transform: translateX(20px);
            -ms-transform: translateX(20px);
            transform: translateX(20px);
        }
        .response-box ul,
        .response-box p {
            font-size: 0.875em; /* Ensure consistent font size, updated to 14px */
            margin-bottom: 0; /* Remove bottom margin */
        }
        .response-box ul li {
            font-size: 1em; /* Keep list item font size at 16px / 1em */
        }
        .response-box ul li:last-child {
            margin-bottom: 0; /* Remove bottom margin from the last list item */
        }
        .model-name {
            font-size: 16px;
            font-weight: 400; /* Set font-weight to 400 */
            margin-left: 10px; /* Add space between H2 and model-name */
        }
        .response-box ul {
            list-style-type: none;
            padding: 0;
            font-size: 1em; /* Set font size of ul to 1em */
        }
        .new-cta-list {
            /* Removed opacity and transition, now handled by parent .result */
        }
        .response-box li {
            margin-bottom: 10px;
        }
        .response-box li a {
            display: inline;
            color: #36679b; /* Updated link color */
            text-decoration: underline;
        }
        .response-box li a:hover {
            color: #0056b3; /* Keep a hover color, could also update to a shade of #36679b if desired */
        }
        a {
            color: #36679b; /* Updated all link color */
            text-decoration: underline;
        }
        /* Added for the 'Add extra detail' modal close button */
        .detail-close-button {
            color: #261201; /* Updated close button color */
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .detail-close-button:hover,
        .detail-close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="responsive-wrapper">
        <div class="container">
            <header style="display: flex; flex-direction: column; gap: 16px;">
                <h1>ClickyLinks</h1>
                <p class="slogan">Write actions people want to take. <a href="#" id="learnWhyLink">Learn why.</a></p>
            </header>
            <div class="input-buttons-container">
                <input type="text" id="mainInput" value="" autofocus>
                <button id="submitButton">Fix my link</button>
                <button id="addDetailsButton" class="modal-button">Settings</button>
            </div>
            <div class="controls-box" id="controlsBox">
                <div class="controls-content">
                    <div class="control-group">
                        <label for="numSuggestions">Number of Suggestions <span id="numSuggestionsValue">1</span></label>
                        <input type="range" id="numSuggestions" min="1" max="3" value="1">
                    </div>
                    <div class="control-group">
                        <label for="playfulProfessional"><span>Playful</span><span>Professional</span></label>
                        <input type="range" id="playfulProfessional" min="-5" max="5" value="-1">
                    </div>
                    <div class="control-group">
                        <label for="length"><span>Short & Punchy</span><span>Long & Descriptive</span></label>
                        <input type="range" id="length" min="-5" max="5" value="-5">
                    </div>
                    <div class="control-group">
                        <div class="switch-container">
                            <label for="includeExplanation">Include explanations</label>
                            <label class="switch">
                                <input type="checkbox" id="includeExplanation" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="control-group">
                        <label for="whatCompanyDoes">What the company does</label>
                        <input type="text" id="whatCompanyDoes" style="width: 100%; margin-top: 5px; box-sizing: border-box;" >
                    </div>
                    <div class="control-group">
                        <label for="targetAudience">Target audience</label>
                        <input type="text" id="targetAudience" style="width: 100%; margin-top: 5px; box-sizing: border-box;" >
                    </div>
                    <div class="control-group">
                        <label for="banWords">Ban words (comma-separated)</label>
                        <input type="text" id="banWords" style="width: 100%; margin-top: 5px; box-sizing: border-box;" >
                    </div>
                    <div class="control-group">
                        <label for="keepWords">Keep words (comma-separated)</label>
                        <input type="text" id="keepWords" style="width: 100%; margin-top: 5px; box-sizing: border-box;" >
                    </div>
                </div>
            </div>
        </div>
        <div class="main-content-area">
            <div class="response-box" id="chatGPTResponseBox">
                <div class="top-area">
                    <h2>ChatGPT</h2><span class="model-name">(gpt-4)</span><span class="loader">Thinking...</span>
                </div>
                <div class="result">
                    <div id="chatGPTPrimaryContent"></div>
                    <p class="why-it-works" id="chatGPTExplanationText"></p>
                </div>
            </div>
            <div class="response-box" id="claudeResponseBox">
                <div class="top-area">
                    <h2>Claude</h2><span class="model-name">(sonnet-4)</span><span class="loader">Thinking...</span>
                </div>
                <div class="result">
                    <div id="claudePrimaryContent"></div>
                    <p class="why-it-works" id="claudeExplanationText"></p>
                </div>
            </div>
            <div class="response-box" id="geminiResponseBox">
                <div class="top-area">
                    <h2>Gemini</h2><span class="model-name">(2.5-flash-lite)</span><span class="loader">Thinking...</span>
                </div>
                <div class="result">
                    <div id="geminiPrimaryContent"></div>
                    <p class="why-it-works" id="geminiExplanationText"></p>
                </div>
            </div>
        </div>
    </div>

    <div id="ctaEssayModal" class="modal">
        <div class="modal-content">
            <span class="close-button cta-essay-close">&times;</span>
            <article class="cta-essay" lang="en">
                <header>
                    <h2>'Click Here' as a Call to Action: Effective or Not?</h2>
                    <p><em>A short research essay by ChatGPT</em></p>
                </header>

                <section>
                    <p>
                    Across website types (e-commerce, SaaS, nonprofit, content), “click here” is generally a poor call to action (CTA).
                    It underperforms more specific alternatives on conversion, fails accessibility best practices, weakens SEO signals,
                    and degrades overall UX.
                    </p>
                </section>

                <section>
                    <h3>Conversion (CRO)</h3>
                    <p>
                    Effective CTAs communicate the action <strong>and</strong> the value: “Add to cart,” “Start free trial,”
                    “Download the report.” Generic commands like “click here” don’t tell users what happens next or why it matters,
                    which reduces motivation. See Nielsen Norman Group on meaningful link labels:
                    <a href="https://www.nngroup.com/articles/better-link-labels/" rel="noopener">Better Link Labels</a>.
                    </p>
                </section>

                <section>
                    <h3>Accessibility</h3>
                    <p>
                    Screen-reader and keyboard users often navigate by reading a list of links out of context. Repeated “click here”
                    provides no clue about destination or purpose. Accessibility standards require (and guidance strongly recommends)
                    descriptive link text:
                    <a href="https://www.w3.org/WAI/WCAG21/Understanding/link-purpose-in-context.html" rel="noopener">WCAG 2.4.4</a>,
                    <a href="https://www.w3.org/WAI/WCAG21/Understanding/link-purpose-link-only.html" rel="noopener">WCAG 2.4.9</a>,
                    <a href="https://www.section508.gov/blog/accessibility-bytes/descriptive-links-and-hypertext/" rel="noopener">Section 508 blog</a>,
                    <a href="https://www.section508.gov/develop/guide-accessible-web-design-development/" rel="noopener">Section 508 guide</a>,
                    and
                    <a href="https://www.gov.uk/guidance/content-design/links" rel="noopener">GOV.UK Content Design</a>.
                    </p>
                </section>

                <section>
                    <h3>SEO</h3>
                    <p>
                    Search engines use anchor text to understand a page’s topic. Google lists “Click here” and “Read more”
                    as <em>bad (too generic)</em> examples and recommends concise, descriptive anchors:
                    <a href="https://developers.google.com/search/docs/crawling-indexing/links-crawlable" rel="noopener">Google Search Central: Write good anchor text</a>.
                    SEO guidance concurs: avoid generic anchors and tell users what the link is about
                    (<a href="https://yoast.com/what-is-anchor-text/" rel="noopener">Yoast</a>).
                    </p>
                </section>

                <section>
                    <h3>User Experience (UX)</h3>
                    <p>
                    Labels need “information scent”—a clear cue about the outcome. “Click here” forces readers to hunt for context,
                    slowing scanning and eroding trust. See
                    <a href="https://www.nngroup.com/articles/learn-more-links/" rel="noopener">NN/g: “Learn more” is the new “Click here”</a>
                    and
                    <a href="https://www.nngroup.com/articles/better-link-labels/" rel="noopener">NN/g: Better Link Labels</a>.
                    </p>
                </section>

                <section>
                    <h3>What to Use Instead</h3>
                    <ul>
                    <li><strong>E-commerce:</strong> “Add to cart,” “Buy now,” “Shop new arrivals.”</li>
                    <li><strong>SaaS:</strong> “Start free trial,” “Get started,” “Request a demo.”</li>
                    <li><strong>Content/Education:</strong> “Read the full article: [Title],” “Download the 2025 report.”</li>
                    <li><strong>Nonprofit/Public sector:</strong> “Donate now,” “Join our newsletter,” “View eligibility criteria.”</li>
                    </ul>
                    <p>The principle: make the action and destination unmistakable to improve inclusivity, SEO, and conversions.</p>
                </section>

                <footer>
                    <h3>Key Sources</h3>
                    <ul>
                    <li><a href="https://www.w3.org/WAI/WCAG21/Understanding/link-purpose-in-context.html" rel="noopener">WCAG 2.4.4</a></li>
                    <li><a href="https://www.w3.org/WAI/WCAG21/Understanding/link-purpose-link-only.html" rel="noopener">WCAG 2.4.9</a></li>
                    <li><a href="https://www.section508.gov/blog/accessibility-bytes/descriptive-links-and-hypertext/" rel="noopener">Section 508: Descriptive links</a></li>
                    <li><a href="https://www.section508.gov/develop/guide-accessible-web-design-development/" rel="noopener">Section 508: Accessible design guide</a></li>
                    <li><a href="https://developers.google.com/search/docs/crawling-indexing/links-crawlable" rel="noopener">Google Search Central: Anchor text</a></li>
                    <li><a href="https://www.nngroup.com/articles/learn-more-links/" rel="noopener">NN/g: Learn More links</a></li>
                    <li><a href="https://www.nngroup.com/articles/better-link-labels/" rel="noopener">NN/g: Better link labels</a></li>
                    <li><a href="https://www.gov.uk/guidance/content-design/links" rel="noopener">GOV.UK Content Design: Links</a></li>
                    <li><a href="https://yoast.com/what-is-anchor-text/" rel="noopener">Yoast: Anchor text</a></li>
                    </ul>
                </footer>
            </article>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const textInput = document.getElementById('mainInput'); // Changed from textInput
            const submitButton = document.getElementById('submitButton');
            const addDetailsButton = document.getElementById('addDetailsButton');
            const chatGPTPrimaryContent = document.getElementById('chatGPTPrimaryContent');
            const chatGPTExplanationText = document.getElementById('chatGPTExplanationText');
            const claudePrimaryContent = document.getElementById('claudePrimaryContent');
            const claudeExplanationText = document.getElementById('claudeExplanationText');
            const geminiPrimaryContent = document.getElementById('geminiPrimaryContent');
            const geminiExplanationText = document.getElementById('geminiExplanationText');
            // const detailModal = document.getElementById('detailModal'); // Removed as modal is removed
            // const closeButton = detailModal.querySelector('.close-button'); // Removed as modal is removed
            const controlsBox = document.getElementById('controlsBox'); // Get the new controls box
            const controlsContent = controlsBox.querySelector('.controls-content'); // Get the new controls content div
            // const applyDetailsButton = document.getElementById('applyDetailsButton'); // Removed as it's no longer used
            const mainContentArea = document.querySelector('.main-content-area'); // Get the main content area

            const numSuggestionsSlider = document.getElementById('numSuggestions');
            const numSuggestionsValue = document.getElementById('numSuggestionsValue');
            const playfulProfessionalSlider = document.getElementById('playfulProfessional');
            
            const lengthSlider = document.getElementById('length');
            const includeExplanationCheckbox = document.getElementById('includeExplanation');

            
            const whatCompanyDoesTextarea = document.getElementById('whatCompanyDoes');
            const targetAudienceInput = document.getElementById('targetAudience');

            const banWordsInput = document.getElementById('banWords');
            const keepWordsInput = document.getElementById('keepWords');

            // Update slider value displays
            numSuggestionsSlider.oninput = () => { numSuggestionsValue.textContent = numSuggestionsSlider.value; };

            // Open/close the controls box
            addDetailsButton.addEventListener('click', () => {
                controlsContent.classList.toggle('open');
                controlsBox.classList.toggle('open'); // Toggle open class on controlsBox for border color transition
            });

            // Removed modal close listeners as detailModal is removed
            // closeButton.addEventListener('click', () => {
            //     detailModal.style.display = 'none';
            // });
            // window.addEventListener('click', (event) => {
            //     if (event.target == detailModal) {
            //         detailModal.style.display = 'none';
            //     }
            // });

            // Removed applyDetailsButton event listener as controls are now directly visible
            // applyDetailsButton.addEventListener('click', () => {
            //     detailModal.style.display = 'none';
            // });

            document.getElementById('mainInput').addEventListener('keydown', (event) => {
                if (event.key === 'Enter') {
                    document.getElementById('submitButton').click();
                }
            });

            document.getElementById('submitButton').addEventListener('click', async () => {
                const textInput = document.getElementById('mainInput').value; // Changed from textInput
                const chatGPTPrimaryContent = document.getElementById('chatGPTPrimaryContent');
                const chatGPTExplanationText = document.getElementById('chatGPTExplanationText');
                const claudePrimaryContent = document.getElementById('claudePrimaryContent');
                const claudeExplanationText = document.getElementById('claudeExplanationText');
                const geminiPrimaryContent = document.getElementById('geminiPrimaryContent');
                const geminiExplanationText = document.getElementById('geminiExplanationText');

                mainContentArea.classList.add('thinking-animation'); // Start animation
                
                // Make response boxes visible immediately
                document.getElementById('chatGPTResponseBox').style.opacity = '1';
                document.getElementById('chatGPTResponseBox').style.visibility = 'visible';
                document.getElementById('claudeResponseBox').style.opacity = '1';
                document.getElementById('claudeResponseBox').style.visibility = 'visible';
                document.getElementById('geminiResponseBox').style.opacity = '1';
                document.getElementById('geminiResponseBox').style.visibility = 'visible';
                
                // Set initial max-height for boxes to show loader with padding
                document.getElementById('chatGPTResponseBox').style.maxHeight = '100px'; // Temporary height for loader
                document.getElementById('claudeResponseBox').style.maxHeight = '100px'; // Temporary height for loader
                document.getElementById('geminiResponseBox').style.maxHeight = '100px'; // Temporary height for loader

                // Trigger scale-in animation for boxes
                // document.getElementById('chatGPTResponseBox').style.transform = 'scale(1)'; // Removed as per edit hint
                // document.getElementById('claudeResponseBox').style.transform = 'scale(1)'; // Removed as per edit hint
                // document.getElementById('geminiResponseBox').style.transform = 'scale(1)'; // Removed as per edit hint

                // Clear previous content from PrimaryContent, as loader now handles 'Thinking...'
                chatGPTPrimaryContent.innerHTML = ''; 
                chatGPTExplanationText.textContent = ''; // Clear previous explanation
                chatGPTExplanationText.style.display = 'none'; // Hide explanation text area
                claudePrimaryContent.innerHTML = '';
                claudeExplanationText.textContent = ''; // Clear previous explanation
                claudeExplanationText.style.display = 'none'; // Hide explanation text area
                geminiPrimaryContent.innerHTML = '';
                geminiExplanationText.textContent = ''; // Clear previous explanation
                geminiExplanationText.style.display = 'none'; // Hide explanation text area

                // Ensure loader is visible and result is hidden initially
                document.getElementById('chatGPTResponseBox').querySelector('.top-area .loader').style.display = 'flex'; // Ensure display is not 'none'
                document.getElementById('chatGPTResponseBox').querySelector('.top-area .loader').style.opacity = '1';
                document.getElementById('chatGPTResponseBox').querySelector('.result').style.opacity = '0';
                document.getElementById('chatGPTResponseBox').querySelector('.result').style.visibility = 'hidden';
                document.getElementById('claudeResponseBox').querySelector('.top-area .loader').style.display = 'flex'; // Ensure display is not 'none'
                document.getElementById('claudeResponseBox').querySelector('.top-area .loader').style.opacity = '1';
                document.getElementById('claudeResponseBox').querySelector('.result').style.opacity = '0';
                document.getElementById('claudeResponseBox').querySelector('.result').style.visibility = 'hidden';
                document.getElementById('geminiResponseBox').querySelector('.top-area .loader').style.display = 'flex'; // Ensure display is not 'none'
                document.getElementById('geminiResponseBox').querySelector('.top-area .loader').style.opacity = '1';
                document.getElementById('geminiResponseBox').querySelector('.result').style.opacity = '0';
                document.getElementById('geminiResponseBox').querySelector('.result').style.visibility = 'hidden';

                let responsesCompleted = 0; // Initialize counter for completed responses

                const handleResponseCompletion = () => {
                    responsesCompleted++;
                    if (responsesCompleted === 3) {
                        mainContentArea.classList.remove('thinking-animation'); // Stop animation if all done
                    }
                };
                
                // Attach handleResponseCompletion to each loader's transitionend event
                const chatGPTLoader = document.getElementById('chatGPTResponseBox').querySelector('.top-area .loader');
                const claudeLoader = document.getElementById('claudeResponseBox').querySelector('.top-area .loader');
                const geminiLoader = document.getElementById('geminiResponseBox').querySelector('.top-area .loader');
                
                chatGPTLoader.addEventListener('transitionend', function chatGPTLoaderHandler() {
                    chatGPTLoader.style.display = 'none';
                    chatGPTLoader.removeEventListener('transitionend', chatGPTLoaderHandler);
                    handleResponseCompletion();
                });
                
                claudeLoader.addEventListener('transitionend', function claudeLoaderHandler() {
                    claudeLoader.style.display = 'none';
                    claudeLoader.removeEventListener('transitionend', claudeLoaderHandler);
                    handleResponseCompletion();
                });
                
                geminiLoader.addEventListener('transitionend', function geminiLoaderHandler() {
                    geminiLoader.style.display = 'none';
                    geminiLoader.removeEventListener('transitionend', geminiLoaderHandler);
                    handleResponseCompletion();
                });

                // Reset responsesCompleted at the start of each submission
                responsesCompleted = 0; // Reset counter for new submission

                const requestBody = {
                    message: textInput,
                    numSuggestions: numSuggestionsSlider.value,
                    playfulProfessional: playfulProfessionalSlider.value,
                    length: lengthSlider.value,
                    includeExplanation: includeExplanationCheckbox.checked,
                    
                    whatCompanyDoes: whatCompanyDoesTextarea.value,
                    targetAudience: targetAudienceInput.value,
                    banWords: banWordsInput.value,
                    keepWords: keepWordsInput.value,
                };

                try {
                    // Fetch from ChatGPT API
                    const chatGPTResponse = await fetch('/chat', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(requestBody)
                    });

                    const chatGPTData = await chatGPTResponse.json();

                    if (chatGPTResponse.ok) {
                        chatGPTPrimaryContent.innerHTML = ''; // Clear previous responses
                        // Hide loader and show result
                        const chatGPTLoader = document.getElementById('chatGPTResponseBox').querySelector('.top-area .loader');
                        chatGPTLoader.style.opacity = '0';
                        chatGPTLoader.addEventListener('transitionend', function handler() {
                            chatGPTLoader.style.display = 'none';
                            chatGPTLoader.removeEventListener('transitionend', handler);
                        });
                        
                        if (chatGPTData.response && Array.isArray(chatGPTData.response)) {
                            const ul = document.createElement('ul');
                            ul.classList.add('new-cta-list'); // Add class to ul
                            chatGPTData.response.forEach(suggestion => {
                                const li = document.createElement('li');
                                li.innerHTML = suggestion;
                                ul.appendChild(li);
                            });
                            chatGPTPrimaryContent.appendChild(ul);
                        } else {
                            const p = document.createElement('p');
                            p.classList.add('new-cta'); // Add class to p
                            p.innerHTML = chatGPTData.response;
                            chatGPTPrimaryContent.appendChild(p);
                        }
                        if (chatGPTData.explanation) {
                            chatGPTExplanationText.textContent = chatGPTData.explanation;
                            chatGPTExplanationText.style.marginTop = '16px'; // Add margin top when explanation is present
                            chatGPTExplanationText.style.display = 'block'; // Show explanation text area
                        }
                        // Set max-height to allow expansion
                        document.getElementById('chatGPTResponseBox').style.maxHeight = '1000px'; // Adjust as needed

                        // Trigger fade-in for text
                        setTimeout(() => {
                            document.getElementById('chatGPTResponseBox').querySelector('.result').style.opacity = '1';
                            document.getElementById('chatGPTResponseBox').querySelector('.result').style.visibility = 'visible';
                        }, 500); // Increased delay to allow box expansion to complete
                    } else {
                        chatGPTPrimaryContent.innerHTML = 'Error: ' + (chatGPTData.error || 'Something went wrong with ChatGPT.');
                    }
                } catch (error) {
                    chatGPTPrimaryContent.innerHTML = 'Network Error (ChatGPT): ' + error.message;
                    const chatGPTLoader = document.getElementById('chatGPTResponseBox').querySelector('.top-area .loader');
                    chatGPTLoader.style.opacity = '0'; // Ensure loader fades out even on error
                    chatGPTLoader.addEventListener('transitionend', function chatGPTErrorLoaderHandler() {
                        chatGPTLoader.style.display = 'none';
                        chatGPTLoader.removeEventListener('transitionend', chatGPTErrorLoaderHandler);
                        handleResponseCompletion(); // Handle completion after loader is hidden
                    });
                }

                try {
                    // Fetch from Claude API
                    const claudeResponse = await fetch('/claude-chat', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(requestBody)
                    });

                    const claudeData = await claudeResponse.json();

                    if (claudeResponse.ok) {
                        claudePrimaryContent.innerHTML = ''; // Clear previous responses
                        // Hide loader and show result
                        const claudeLoader = document.getElementById('claudeResponseBox').querySelector('.top-area .loader');
                        claudeLoader.style.opacity = '0';
                        claudeLoader.addEventListener('transitionend', function handler() {
                            claudeLoader.style.display = 'none';
                            claudeLoader.removeEventListener('transitionend', handler);
                        });
                        
                        if (claudeData.response && Array.isArray(claudeData.response)) {
                            const ul = document.createElement('ul');
                            ul.classList.add('new-cta-list'); // Add class to ul
                            claudeData.response.forEach(suggestion => {
                                const li = document.createElement('li');
                                li.innerHTML = suggestion;
                                ul.appendChild(li);
                            });
                            claudePrimaryContent.appendChild(ul);
                        } else {
                            const p = document.createElement('p');
                            p.classList.add('new-cta'); // Add class to p
                            p.innerHTML = claudeData.response;
                            claudePrimaryContent.appendChild(p);
                        }
                        if (claudeData.explanation) {
                            claudeExplanationText.textContent = claudeData.explanation;
                            claudeExplanationText.style.marginTop = '16px'; // Add margin top when explanation is present
                            claudeExplanationText.style.display = 'block'; // Show explanation text area
                        }
                        // Set max-height to allow expansion
                        document.getElementById('claudeResponseBox').style.maxHeight = '1000px'; // Adjust as needed

                        // Trigger fade-in for text
                        setTimeout(() => {
                            document.getElementById('claudeResponseBox').querySelector('.result').style.opacity = '1';
                            document.getElementById('claudeResponseBox').querySelector('.result').style.visibility = 'visible';
                        }, 500); // Increased delay to allow box expansion to complete
                    } else {
                        claudePrimaryContent.innerHTML = 'Error: ' + (claudeData.error || 'Something went wrong with Claude.');
                    }
                } catch (error) {
                    claudePrimaryContent.innerHTML = 'Network Error (Claude): ' + error.message;
                    const claudeLoader = document.getElementById('claudeResponseBox').querySelector('.top-area .loader');
                    claudeLoader.style.opacity = '0'; // Ensure loader fades out even on error
                    claudeLoader.addEventListener('transitionend', function claudeErrorLoaderHandler() {
                        claudeLoader.style.display = 'none';
                        claudeLoader.removeEventListener('transitionend', claudeErrorLoaderHandler);
                        handleResponseCompletion(); // Handle completion after loader is hidden
                    });
                }

                try {
                    // Fetch from Gemini API
                    const geminiResponse = await fetch('/gemini-chat', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(requestBody)
                    });

                    const geminiData = await geminiResponse.json();

                    if (geminiResponse.ok) {
                        geminiPrimaryContent.innerHTML = ''; // Clear previous responses
                        // Hide loader and show result
                        const geminiLoader = document.getElementById('geminiResponseBox').querySelector('.top-area .loader');
                        geminiLoader.style.opacity = '0';
                        geminiLoader.addEventListener('transitionend', function handler() {
                            geminiLoader.style.display = 'none';
                            geminiLoader.removeEventListener('transitionend', handler);
                        });
                        
                        if (geminiData.response && Array.isArray(geminiData.response)) {
                            const ul = document.createElement('ul');
                            ul.classList.add('new-cta-list'); // Add class to ul
                            geminiData.response.forEach(suggestion => {
                                const li = document.createElement('li');
                                li.innerHTML = suggestion;
                                ul.appendChild(li);
                            });
                            geminiPrimaryContent.appendChild(ul);
                        }
                        if (geminiData.explanation) {
                            geminiExplanationText.textContent = geminiData.explanation;
                            geminiExplanationText.style.marginTop = '16px'; // Add margin top when explanation is present
                            geminiExplanationText.style.display = 'block'; // Show explanation text area
                        }
                        // Set max-height to allow expansion
                        document.getElementById('geminiResponseBox').style.maxHeight = '1000px'; // Adjust as needed

                        // Trigger fade-in for text
                        setTimeout(() => {
                            document.getElementById('geminiResponseBox').querySelector('.result').style.opacity = '1';
                            document.getElementById('geminiResponseBox').querySelector('.result').style.visibility = 'visible';
                        }, 500); // Increased delay to allow box expansion to complete
                    } else {
                        geminiPrimaryContent.innerHTML = 'Error: ' + (geminiData.error || 'Something went wrong with Gemini. Please check the server console for details.');
                    }
                } catch (error) {
                    geminiPrimaryContent.innerHTML = 'Network Error (Gemini): ' + error.message;
                    const geminiLoader = document.getElementById('geminiResponseBox').querySelector('.top-area .loader');
                    geminiLoader.style.opacity = '0'; // Ensure loader fades out even on error
                    geminiLoader.addEventListener('transitionend', function geminiErrorLoaderHandler() {
                        geminiLoader.style.display = 'none';
                        geminiLoader.removeEventListener('transitionend', geminiErrorLoaderHandler);
                        handleResponseCompletion(); // Handle completion after loader is hidden
                    });
                }
            });
            const learnWhyLink = document.getElementById('learnWhyLink');
            if (learnWhyLink) {
                learnWhyLink.addEventListener('click', (event) => {
                    event.preventDefault(); // Prevent default link behavior
                    document.getElementById('ctaEssayModal').style.display = 'flex'; // Use flex to center the modal
                });
            }

            const ctaEssayModal = document.getElementById('ctaEssayModal');
            const ctaEssayCloseButton = ctaEssayModal.querySelector('.cta-essay-close');
            if (ctaEssayCloseButton) {
                ctaEssayCloseButton.addEventListener('click', (event) => {
                    event.stopPropagation(); // Prevent click from bubbling up to window
                    ctaEssayModal.style.display = 'none';
                });
            }

            // Close the modal if clicked outside
            window.addEventListener('click', (event) => {
                if (event.target == ctaEssayModal) {
                    ctaEssayModal.style.display = 'none';
                }
            });
        }); // End DOMContentLoaded
    </script>
</body>
</html>
