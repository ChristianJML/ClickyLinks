<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClickyWords</title>
    <meta name="description" content="Burn boring CTAs. Write actions people want to take. An AI-powered tool that helps you craft clear, compelling calls-to-action that convert.">
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #1a2a4a; /* Dark blue */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: white;
        }
        .container {
            text-align: center;
            padding: 20px;
            max-width: 640px; /* Set max-width for the container */
            width: 640px; /* Ensure default width matches max-width */
            display: flex; /* Enable flexbox for vertical layout */
            flex-direction: column; /* Stack children vertically */
            gap: 16px; /* Add 16px gap between children, specifically for response boxes */
        }
        input[type="text"] {
            padding: 10px;
            /* Adjusted width for inline display */
            flex-grow: 1; /* Allows text input to take available space */
            border-radius: 5px;
            border: 1px solid #5f7fbf;
            background-color: #2a3a5a;
            color: white;
        }
        .input-buttons-container {
            display: flex;
            align-items: center; /* Vertically align items */
            margin-top: 24px; /* Space from header */
            justify-content: space-between; /* Distribute items evenly, pushing first to left, last to right */
            gap: 8px; /* Add 8px gap between elements */
            width: 100%; /* Take full width of the container */
        }
        button {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            background-color: #007bff; /* Blue */
            color: white;
            cursor: pointer;
            font-size: 1em;
        }
        button:hover {
            background-color: #0056b3;
        }
        .response-box {
            background-color: #3f5f9a; /* Lighter blue */
            padding: 15px;
            border-radius: 8px;
            text-align: left; /* Left align text within response boxes */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.25s ease-in-out, visibility 0.25s ease-in-out;
        }
        .response-box h2 {
            margin-top: 0; /* Remove top margin from H2 inside response-box */
        }
        .response-box p {
            margin-bottom: 0; /* Remove bottom margin from P inside response-box */
        }
        h1 {
            font-size: 3em;
            margin-bottom: 0; /* Removed margin-bottom */
        }
        p {
            font-size: 1.2em;
            margin-bottom: 0; /* Remove bottom margin from general p elements */
        }
        .slogan {
            margin-top: 0; /* Ensure no top margin on the slogan */
        }
        /* Modal Styles */
        .modal {
            display: none; /* Hidden by default, JavaScript will set to flex when opened */
            align-items: center; /* Center content vertically */
            justify-content: center; /* Center content horizontally */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        }
        .modal-content {
            background-color: #1a2a4a; /* Dark blue */
            margin: auto; /* Centered */
            padding: 20px;
            border: 1px solid #888;
            width: 30%; /* Could be adjusted */
            border-radius: 8px;
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            overflow-y: auto;
            box-shadow: -5px 0 15px rgba(0,0,0,0.5);
        }
        #ctaEssayModal .modal-content {
            width: 70%;
            max-width: 800px;
            position: relative; /* Override absolute positioning from general .modal-content */
            right: auto; /* Reset right position */
            top: auto; /* Reset top position */
            height: auto; /* Allow content to define height */
            max-height: 90vh; /* Set max height for scrollability */
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-button:hover,
        .close-button:focus {
            color: white;
            text-decoration: none;
            cursor: pointer;
        }
        .control-group {
            margin-bottom: 16px; /* Consistent vertical spacing between control groups */
        }
        .control-group label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
            font-size: 1.1em;
        }
        .control-group h4 {
            margin-bottom: 10px;
        }
        input[type="range"] {
            width: 100%;
            margin-top: 5px;
        }
        /* Styles for the custom switch */
        .switch-container {
            display: flex;
            align-items: center;
            gap: 10px; /* Add some space between the text and the switch */
            margin-bottom: 5px;
            font-size: 1.1em;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 20px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 20px; /* Rounded slider */
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #007bff;
        }
        input:focus + .slider {
            box-shadow: 0 0 1px #007bff;
        }
        input:checked + .slider:before {
            -webkit-transform: translateX(20px);
            -ms-transform: translateX(20px);
            transform: translateX(20px);
        }
        .response-box ul,
        .response-box p {
            font-size: 1em; /* Ensure consistent font size */
            margin-bottom: 0; /* Remove bottom margin */
        }
        .response-box ul li:last-child {
            margin-bottom: 0; /* Remove bottom margin from the last list item */
        }
        .model-name {
            font-size: 16px;
            font-weight: 400; /* Set font-weight to 400 */
        }
        .response-box ul {
            list-style-type: none;
            padding: 0;
        }
        .response-box li {
            margin-bottom: 10px;
        }
        .response-box li a {
            display: inline;
            color: #007bff; /* Link color */
            text-decoration: underline;
        }
        .response-box li a:hover {
            color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <header style="display: flex; flex-direction: column; gap: 16px;">
            <h1>ClickyWords</h1>
            <p class="slogan">Write actions people want to take. <a href="#" id="learnWhyLink">Learn why</a></p>
        </header>
        <div class="input-buttons-container">
            <input type="text" id="textInput" placeholder="Enter text here">
            <button id="submitButton">Fix my link</button>
            <button id="addDetailsButton">Add extra detail</button>
        </div>
        <div class="response-box" id="chatGPTResponseBox">
            <h2>ChatGPT <span class="model-name">(gpt-4)</span></h2>
            <p id="chatGPTresponseText"></p>
        </div>
        <div class="response-box" id="claudeResponseBox">
            <h2>Claude <span class="model-name">(sonnet-4)</span></h2>
            <p id="claudeResponseText"></p>
        </div>
        <div class="response-box" id="geminiResponseBox">
            <h2>Gemini <span class="model-name">(gemini-1.5-flash)</span></h2>
            <p id="geminiResponseText"></p>
        </div>
    </div>

    <div id="detailModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h3>Add extra detail</h3>
            <div class="control-group">
                <label for="numSuggestions">Number of Suggestions: <span id="numSuggestionsValue">1</span></label>
                <input type="range" id="numSuggestions" min="1" max="3" value="1">
            </div>
            <div class="control-group">
                <h4>Tone Controls</h4>
                <label for="playfulProfessional"><span>Playful</span><span>Professional</span></label>
                <input type="range" id="playfulProfessional" min="-5" max="5" value="-1">
            </div>
            <div class="control-group">
                <label for="length"><span>Short & Punchy</span><span>Long & Descriptive</span></label>
                <input type="range" id="length" min="-5" max="5" value="-5">
            </div>
            <div class="control-group">
                <div class="switch-container">
                    <label for="includeExplanation">Include explanations</label>
                    <label class="switch">
                        <input type="checkbox" id="includeExplanation" checked>
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
            <div class="control-group">
                <h4>Context Controls</h4>
                
                <label for="whatCompanyDoes">What the company does:</label>
                <input type="text" id="whatCompanyDoes" style="width: 100%; margin-top: 5px; box-sizing: border-box;" >
                <label for="targetAudience">Target audience</label>
                <input type="text" id="targetAudience" style="width: 100%; margin-top: 5px; box-sizing: border-box;" >
            </div>
            <div class="control-group">
                <h4>Advanced Controls</h4>
                <label for="banWords">Ban words (comma-separated):</label>
                <input type="text" id="banWords" style="width: 100%; margin-top: 5px; box-sizing: border-box;" >
                <label for="keepWords">Keep words (comma-separated):</label>
                <input type="text" id="keepWords" style="width: 100%; margin-top: 5px; box-sizing: border-box;" >
            </div>
            <button id="applyDetailsButton">Apply</button>
        </div>
    </div>

    <div id="ctaEssayModal" class="modal">
        <div class="modal-content">
            <span class="close-button cta-essay-close">&times;</span>
            <article class="cta-essay" lang="en">
                <header>
                    <h2>'Click Here' as a Call to Action: Effective or Not?</h2>
                    <p><em>A short research essay by ChatGPT</em></p>
                </header>

                <section>
                    <p>
                    Across website types (e-commerce, SaaS, nonprofit, content), “click here” is generally a poor call to action (CTA).
                    It underperforms more specific alternatives on conversion, fails accessibility best practices, weakens SEO signals,
                    and degrades overall UX.
                    </p>
                </section>

                <section>
                    <h2>Conversion (CRO)</h2>
                    <p>
                    Effective CTAs communicate the action <strong>and</strong> the value: “Add to cart,” “Start free trial,”
                    “Download the report.” Generic commands like “click here” don’t tell users what happens next or why it matters,
                    which reduces motivation. See Nielsen Norman Group on meaningful link labels:
                    <a href="https://www.nngroup.com/articles/better-link-labels/" rel="noopener">Better Link Labels</a>.
                    </p>
                </section>

                <section>
                    <h2>Accessibility</h2>
                    <p>
                    Screen-reader and keyboard users often navigate by reading a list of links out of context. Repeated “click here”
                    provides no clue about destination or purpose. Accessibility standards require (and guidance strongly recommends)
                    descriptive link text:
                    <a href="https://www.w3.org/WAI/WCAG21/Understanding/link-purpose-in-context.html" rel="noopener">WCAG 2.4.4</a>,
                    <a href="https://www.w3.org/WAI/WCAG21/Understanding/link-purpose-link-only.html" rel="noopener">WCAG 2.4.9</a>,
                    <a href="https://www.section508.gov/blog/accessibility-bytes/descriptive-links-and-hypertext/" rel="noopener">Section 508 blog</a>,
                    <a href="https://www.section508.gov/develop/guide-accessible-web-design-development/" rel="noopener">Section 508 guide</a>,
                    and
                    <a href="https://www.gov.uk/guidance/content-design/links" rel="noopener">GOV.UK Content Design</a>.
                    </p>
                </section>

                <section>
                    <h2>SEO</h2>
                    <p>
                    Search engines use anchor text to understand a page’s topic. Google lists “Click here” and “Read more”
                    as <em>bad (too generic)</em> examples and recommends concise, descriptive anchors:
                    <a href="https://developers.google.com/search/docs/crawling-indexing/links-crawlable" rel="noopener">Google Search Central: Write good anchor text</a>.
                    SEO guidance concurs: avoid generic anchors and tell users what the link is about
                    (<a href="https://yoast.com/what-is-anchor-text/" rel="noopener">Yoast</a>).
                    </p>
                </section>

                <section>
                    <h2>User Experience (UX)</h2>
                    <p>
                    Labels need “information scent”—a clear cue about the outcome. “Click here” forces readers to hunt for context,
                    slowing scanning and eroding trust. See
                    <a href="https://www.nngroup.com/articles/learn-more-links/" rel="noopener">NN/g: “Learn more” is the new “Click here”</a>
                    and
                    <a href="https://www.nngroup.com/articles/better-link-labels/" rel="noopener">NN/g: Better Link Labels</a>.
                    </p>
                </section>

                <section>
                    <h2>What to Use Instead</h2>
                    <ul>
                    <li><strong>E-commerce:</strong> “Add to cart,” “Buy now,” “Shop new arrivals.”</li>
                    <li><strong>SaaS:</strong> “Start free trial,” “Get started,” “Request a demo.”</li>
                    <li><strong>Content/Education:</strong> “Read the full article: [Title],” “Download the 2025 report.”</li>
                    <li><strong>Nonprofit/Public sector:</strong> “Donate now,” “Join our newsletter,” “View eligibility criteria.”</li>
                    </ul>
                    <p>The principle: make the action and destination unmistakable to improve inclusivity, SEO, and conversions.</p>
                </section>

                <footer>
                    <h3>Key Sources</h3>
                    <ul>
                    <li><a href="https://www.w3.org/WAI/WCAG21/Understanding/link-purpose-in-context.html" rel="noopener">WCAG 2.4.4</a></li>
                    <li><a href="https://www.w3.org/WAI/WCAG21/Understanding/link-purpose-link-only.html" rel="noopener">WCAG 2.4.9</a></li>
                    <li><a href="https://www.section508.gov/blog/accessibility-bytes/descriptive-links-and-hypertext/" rel="noopener">Section 508: Descriptive links</a></li>
                    <li><a href="https://www.section508.gov/develop/guide-accessible-web-design-development/" rel="noopener">Section 508: Accessible design guide</a></li>
                    <li><a href="https://developers.google.com/search/docs/crawling-indexing/links-crawlable" rel="noopener">Google Search Central: Anchor text</a></li>
                    <li><a href="https://www.nngroup.com/articles/learn-more-links/" rel="noopener">NN/g: Learn More links</a></li>
                    <li><a href="https://www.nngroup.com/articles/better-link-labels/" rel="noopener">NN/g: Better link labels</a></li>
                    <li><a href="https://www.gov.uk/guidance/content-design/links" rel="noopener">GOV.UK Content Design: Links</a></li>
                    <li><a href="https://yoast.com/what-is-anchor-text/" rel="noopener">Yoast: Anchor text</a></li>
                    </ul>
                </footer>
            </article>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const textInput = document.getElementById('textInput');
            const submitButton = document.getElementById('submitButton');
            const addDetailsButton = document.getElementById('addDetailsButton');
            const chatGPTResponseText = document.getElementById('chatGPTresponseText');
            const claudeResponseText = document.getElementById('claudeResponseText');
            const geminiResponseText = document.getElementById('geminiResponseText'); // Added Gemini reference
            const detailModal = document.getElementById('detailModal');
            const closeButton = detailModal.querySelector('.close-button');
            const applyDetailsButton = document.getElementById('applyDetailsButton');

            const numSuggestionsSlider = document.getElementById('numSuggestions');
            const numSuggestionsValue = document.getElementById('numSuggestionsValue');
            const playfulProfessionalSlider = document.getElementById('playfulProfessional');
            
            const lengthSlider = document.getElementById('length');
            const includeExplanationCheckbox = document.getElementById('includeExplanation');

            
            const whatCompanyDoesTextarea = document.getElementById('whatCompanyDoes');
            const targetAudienceInput = document.getElementById('targetAudience');

            const banWordsInput = document.getElementById('banWords');
            const keepWordsInput = document.getElementById('keepWords');

            // Update slider value displays
            numSuggestionsSlider.oninput = () => { numSuggestionsValue.textContent = numSuggestionsSlider.value; };

            // Open the modal
            addDetailsButton.addEventListener('click', () => {
                detailModal.style.display = 'flex'; // Use flex to center the modal
            });

            // Close the modal
            closeButton.addEventListener('click', () => {
                detailModal.style.display = 'none';
            });

            // Close the modal if clicked outside
            window.addEventListener('click', (event) => {
                if (event.target == detailModal) {
                    detailModal.style.display = 'none';
                }
            });

            applyDetailsButton.addEventListener('click', () => {
                // Here you would capture the values and pass them to your main logic
                detailModal.style.display = 'none'; // Close modal after applying
            });

            document.getElementById('textInput').addEventListener('keydown', (event) => {
                if (event.key === 'Enter') {
                    document.getElementById('submitButton').click();
                }
            });

            document.getElementById('submitButton').addEventListener('click', async () => {
                const textInput = document.getElementById('textInput').value;
                const chatGPTResponseText = document.getElementById('chatGPTresponseText');
                const claudeResponseText = document.getElementById('claudeResponseText');
                const geminiResponseText = document.getElementById('geminiResponseText'); // Added Gemini reference

                chatGPTResponseText.textContent = 'Thinking...';
                claudeResponseText.textContent = 'Thinking...';
                geminiResponseText.textContent = 'Thinking...'; // Added Gemini reference

                const requestBody = {
                    message: textInput,
                    numSuggestions: numSuggestionsSlider.value,
                    playfulProfessional: playfulProfessionalSlider.value,
                    length: lengthSlider.value,
                    includeExplanation: includeExplanationCheckbox.checked,
                    
                    whatCompanyDoes: whatCompanyDoesTextarea.value,
                    targetAudience: targetAudienceInput.value,
                    banWords: banWordsInput.value,
                    keepWords: keepWordsInput.value,
                };

                try {
                    // Fetch from ChatGPT API
                    const chatGPTResponse = await fetch('/chat', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(requestBody)
                    });

                    const chatGPTData = await chatGPTResponse.json();

                    if (chatGPTResponse.ok) {
                        chatGPTResponseText.innerHTML = ''; // Clear previous responses
                        if (chatGPTData.response && Array.isArray(chatGPTData.response)) {
                            const ul = document.createElement('ul');
                            chatGPTData.response.forEach(suggestion => {
                                const li = document.createElement('li');
                                li.innerHTML = suggestion;
                                ul.appendChild(li);
                            });
                            chatGPTResponseText.appendChild(ul);
                        } else {
                            chatGPTResponseText.innerHTML = chatGPTData.response;
                        }
                        if (chatGPTData.explanation) {
                            const explanationP = document.createElement('p');
                            explanationP.textContent = chatGPTData.explanation;
                            explanationP.style.marginTop = '10px';
                            chatGPTResponseText.appendChild(explanationP);
                        }
                        document.getElementById('chatGPTResponseBox').style.opacity = '1';
                        document.getElementById('chatGPTResponseBox').style.visibility = 'visible';
                    } else {
                        chatGPTResponseText.textContent = 'Error: ' + (chatGPTData.error || 'Something went wrong with ChatGPT.');
                    }
                } catch (error) {
                    chatGPTResponseText.textContent = 'Network Error (ChatGPT): ' + error.message;
                }

                try {
                    // Fetch from Claude API
                    const claudeResponse = await fetch('/claude-chat', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(requestBody)
                    });

                    const claudeData = await claudeResponse.json();

                    if (claudeResponse.ok) {
                        claudeResponseText.innerHTML = ''; // Clear previous responses
                        if (claudeData.response && Array.isArray(claudeData.response)) {
                            const ul = document.createElement('ul');
                            claudeData.response.forEach(suggestion => {
                                const li = document.createElement('li');
                                li.innerHTML = suggestion;
                                ul.appendChild(li);
                            });
                            claudeResponseText.appendChild(ul);
                        } else {
                            claudeResponseText.innerHTML = claudeData.response;
                        }
                        if (claudeData.explanation) {
                            const explanationP = document.createElement('p');
                            explanationP.textContent = claudeData.explanation;
                            explanationP.style.marginTop = '10px';
                            claudeResponseText.appendChild(explanationP);
                        }
                        document.getElementById('claudeResponseBox').style.opacity = '1';
                        document.getElementById('claudeResponseBox').style.visibility = 'visible';
                    } else {
                        claudeResponseText.textContent = 'Error: ' + (claudeData.error || 'Something went wrong with Claude.');
                    }
                } catch (error) {
                    claudeResponseText.textContent = 'Network Error (Claude): ' + error.message;
                }

                try {
                    // Fetch from Gemini API
                    const geminiResponse = await fetch('/gemini-chat', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(requestBody)
                    });

                    const geminiData = await geminiResponse.json();

                    if (geminiResponse.ok) {
                        geminiResponseText.innerHTML = ''; // Clear previous responses
                        if (geminiData.response && Array.isArray(geminiData.response)) {
                            const ul = document.createElement('ul');
                            geminiData.response.forEach(suggestion => {
                                const li = document.createElement('li');
                                li.innerHTML = suggestion;
                                ul.appendChild(li);
                            });
                            geminiResponseText.appendChild(ul);
                        } else {
                            geminiResponseText.innerHTML = geminiData.response;
                        }
                        if (geminiData.explanation) {
                            const explanationP = document.createElement('p');
                            explanationP.textContent = geminiData.explanation;
                            explanationP.style.marginTop = '10px';
                            geminiResponseText.appendChild(explanationP);
                        }
                        document.getElementById('geminiResponseBox').style.opacity = '1';
                        document.getElementById('geminiResponseBox').style.visibility = 'visible';
                    } else {
                        geminiResponseText.textContent = 'Error: ' + (geminiData.error || 'Something went wrong with Gemini.');
                    }
                } catch (error) {
                    geminiResponseText.textContent = 'Network Error (Gemini): ' + error.message;
                }
            });
            const learnWhyLink = document.getElementById('learnWhyLink');
            if (learnWhyLink) {
                learnWhyLink.addEventListener('click', (event) => {
                    event.preventDefault(); // Prevent default link behavior
                    document.getElementById('ctaEssayModal').style.display = 'flex'; // Use flex to center the modal
                });
            }

            const ctaEssayModal = document.getElementById('ctaEssayModal');
            const ctaEssayCloseButton = ctaEssayModal.querySelector('.cta-essay-close');
            if (ctaEssayCloseButton) {
                ctaEssayCloseButton.addEventListener('click', (event) => {
                    event.stopPropagation(); // Prevent click from bubbling up to window
                    ctaEssayModal.style.display = 'none';
                });
            }

            // Close the modal if clicked outside
            window.addEventListener('click', (event) => {
                if (event.target == ctaEssayModal) {
                    ctaEssayModal.style.display = 'none';
                }
            });
        }); // End DOMContentLoaded
    </script>
</body>
</html>
